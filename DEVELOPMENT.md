# DeepSeeker 开发计划

## 项目定位升级

**原定位**: 本地 RAG 知识管理系统  
**新定位**: AI 研究助手 - 深度分析型知识管理系统

### 目标用户
- 研究人员
- 分析师
- 知识工作者
- 经常做调研、写报告的人群

---

## 已完成的工作 ✅

### 1. Electron 桌面应用框架
- [x] `electron/main.js` - 主进程，管理窗口和后端服务
- [x] `electron/preload.js` - 预加载脚本，暴露安全 API
- [x] `electron/splash.html` - 启动画面
- [x] `electron/package.json` - Electron 配置和构建脚本
- [x] `electron/entitlements.mac.plist` - macOS 权限配置

### 2. 后端研究助手服务
- [x] `services/discovery.py` - 知识发现服务
  - 发现文档间隐含关联
  - 相似文档推荐
  - 提取共享概念
  - 构建知识图谱数据
  
- [x] `services/clustering.py` - 主题聚类服务
  - HDBSCAN 自动聚类
  - KMeans 固定聚类
  - 聚类标签生成
  - 为新文档推荐聚类

- [x] `services/trends.py` - 趋势分析服务
  - 多时间范围趋势分析
  - 主题演变追踪
  - 时间段对比
  - 活动热力图

- [x] `services/reports.py` - 研究报告生成服务
  - 综述报告
  - 对比报告
  - 深度分析报告
  - 快速摘要
  - 导出 Markdown/HTML

- [x] `services/gaps.py` - 知识空白分析服务
  - 覆盖度分析
  - 缺失主题识别
  - 学习路径建议
  - 角色对比分析

### 3. 后端 API 路由
- [x] `routes/research.py` - 完整的研究助手 API
  - `/api/research/discovery/*` - 知识发现
  - `/api/research/clusters/*` - 主题聚类
  - `/api/research/trends/*` - 趋势分析
  - `/api/research/reports/*` - 报告生成
  - `/api/research/gaps/*` - 知识空白
  - `/api/research/analysis/overview` - 综合分析

### 4. 前端视图
- [x] `ResearchOverviewView.tsx` - 洞察概览
- [x] `ClustersView.tsx` - 主题聚类
- [x] `TrendsView.tsx` - 趋势分析
- [x] `ReportsView.tsx` - 报告生成
- [x] `GapsView.tsx` - 知识空白分析

### 5. 导航与路由
- [x] 更新 `App.tsx` 添加新路由
- [x] 更新 `LeftSidebar.tsx` 添加研究助手导航
- [x] 添加 Electron 事件监听

### 6. 配置更新
- [x] `README.md` - 全新的产品文档
- [x] `requirements.txt` - 添加 ML 依赖
- [x] `package.json` - 根目录脚本管理
- [x] Electron 类型定义

---

## 待完成工作 🚧

### Phase 1: 核心功能完善
- [ ] 向量库 `get_document_chunks` 方法实现
- [ ] 聚类结果持久化
- [ ] 报告保存和管理
- [ ] 更多领域分类配置

### Phase 2: UI/UX 优化
- [ ] 趋势图表可视化 (使用 recharts)
- [ ] 活动热力图组件
- [ ] 知识图谱增强显示
- [ ] 报告预览优化

### Phase 3: Electron 完善
- [ ] 应用图标设计
- [ ] 自动更新机制
- [ ] 本地数据备份
- [ ] 系统托盘支持

### Phase 4: 高级功能
- [ ] 批量导入优化
- [ ] 定时分析任务
- [ ] 自定义领域配置
- [ ] 插件系统架构

---

## 启动方式

### 开发模式
```bash
# 安装依赖
npm run install:all
cd backend && uv pip install -r requirements.txt

# 启动开发服务
npm run dev
```

### Electron 桌面应用
```bash
# 构建并启动
npm run electron

# 开发模式（带热重载）
npm run electron:dev
```

### 原有方式
```bash
./start.sh  # 启动
./stop.sh   # 停止
```

---

## 技术架构

```
┌─────────────────────────────────────────────────────────────┐
│                    Electron Shell                            │
│  ┌─────────────┐  ┌─────────────────────────────────────┐   │
│  │ Main Process│  │         Renderer Process            │   │
│  │             │  │  ┌─────────────────────────────┐    │   │
│  │ - 窗口管理   │  │  │     React Frontend          │    │   │
│  │ - 后端启动   │  │  │  - 文档管理                  │    │   │
│  │ - 系统菜单   │  │  │  - AI 对话                   │    │   │
│  │ - 文件操作   │  │  │  - 知识发现                  │    │   │
│  └─────────────┘  │  │  - 趋势分析                  │    │   │
│                   │  │  - 报告生成                  │    │   │
│                   │  └─────────────────────────────┘    │   │
│                   └─────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    FastAPI Backend                           │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐  │
│  │ 文档服务     │  │ RAG 服务    │  │   研究助手服务       │  │
│  │ - 解析      │  │ - 检索      │  │ - 知识发现          │  │
│  │ - 索引      │  │ - 问答      │  │ - 主题聚类          │  │
│  │ - 搜索      │  │ - 重排序    │  │ - 趋势分析          │  │
│  └─────────────┘  └─────────────┘  │ - 报告生成          │  │
│                                    │ - 知识空白          │  │
│                                    └─────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    MLX Local Models                          │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐  │
│  │ Qwen3 LLM   │  │ Embedding   │  │     Reranker        │  │
│  │ 4B-Instruct │  │ 0.6B Model  │  │     0.6B Model      │  │
│  └─────────────┘  └─────────────┘  └─────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

---

## 版本规划

### v0.2.0 (当前)
- 研究助手核心功能
- Electron 框架集成

### v0.3.0
- 完善 UI/UX
- 图表可视化
- 性能优化

### v0.4.0
- 高级分析功能
- 自定义配置
- 插件系统

### v1.0.0
- 稳定版发布
- 完整文档
- 测试覆盖
